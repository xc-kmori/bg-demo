# ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨ä¿å®ˆãƒãƒ‹ãƒ¥ã‚¢ãƒ«

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨æ¦‚è¦)
2. [ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤](#2-ç’°å¢ƒæ§‹ç¯‰ãƒ‡ãƒ—ãƒ­ã‚¤)
3. [æ—¥å¸¸é‹ç”¨æ‰‹é †](#3-æ—¥å¸¸é‹ç”¨æ‰‹é †)
4. [ç›£è¦–ãƒ»ãƒ­ã‚°ç®¡ç†](#4-ç›£è¦–ãƒ­ã‚°ç®¡ç†)
5. [ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§](#5-ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¾©æ—§)
6. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#6-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
7. [ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­](#7-ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨æ¦‚è¦

### 1.1 é‹ç”¨ä½“åˆ¶
- **é–‹ç™ºç’°å¢ƒ**: é–‹ç™ºè€…ã«ã‚ˆã‚‹ç®¡ç†
- **é‹ç”¨æ™‚é–“**: 24æ™‚é–“ï¼ˆé–‹ç™ºãƒ»æ¤œè¨¼ç›®çš„ï¼‰
- **ç›£è¦–ãƒ¬ãƒ™ãƒ«**: åŸºæœ¬ç›£è¦–ï¼ˆãƒ­ã‚°ç¢ºèªï¼‰

### 1.2 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
```mermaid
graph TB
    subgraph "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"
        A[Flask Server<br/>Port: 5000]
        B[Frontend<br/>Port: 8080]
    end
    
    subgraph "ãƒ‡ãƒ¼ã‚¿"
        C[(SQLite DB<br/>instance/task_manager.db)]
        D[Log Files<br/>logs/]
    end
    
    subgraph "ç’°å¢ƒ"
        E[Python venv<br/>Dependencies]
        F[Static Files<br/>HTML/CSS/JS]
    end
    
    A --> C
    A --> D
    A --> E
    B --> F
```

---

## 2. ç’°å¢ƒæ§‹ç¯‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

### 2.1 åˆå›ç’°å¢ƒæ§‹ç¯‰

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository_url>
cd task-manager

# 2. Pythonä»®æƒ³ç’°å¢ƒä½œæˆ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ã¾ãŸã¯
venv\Scripts\activate     # Windows

# 3. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
cd task_manager_api
python run.py

# 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
cd ../frontend
python -m http.server 8080
```

### 2.2 è‡ªå‹•èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**Linux/Mac**:
```bash
#!/bin/bash
# start_app.sh

echo "ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’èµ·å‹•ã—ã¾ã™..."

# Pythonä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
source venv/bin/activate

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
cd task_manager_api
python run.py &
BACKEND_PID=$!

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
cd ../frontend
python -m http.server 8080 &
FRONTEND_PID=$!

echo "Backend PID: $BACKEND_PID"
echo "Frontend PID: $FRONTEND_PID"
echo "ã‚·ã‚¹ãƒ†ãƒ ãŒèµ·å‹•ã—ã¾ã—ãŸï¼"
echo "Frontend: http://localhost:8080"
echo "Backend API: http://localhost:5000"
echo ""
echo "çµ‚äº†ã™ã‚‹ã«ã¯ Ctrl+C ã‚’æŠ¼ã—ã¦ãã ã•ã„"

# çµ‚äº†ã‚·ã‚°ãƒŠãƒ«å‡¦ç†
trap 'kill $BACKEND_PID $FRONTEND_PID; exit' INT
wait
```

**Windows**:
```batch
@echo off
REM start_app.bat

echo ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’èµ·å‹•ã—ã¾ã™...

REM Pythonä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
call venv\Scripts\activate

REM ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•
cd task_manager_api
start /B python run.py

REM ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
cd ..\frontend
start /B python -m http.server 8080

echo ã‚·ã‚¹ãƒ†ãƒ ãŒèµ·å‹•ã—ã¾ã—ãŸï¼
echo Frontend: http://localhost:8080
echo Backend API: http://localhost:5000
echo.
echo çµ‚äº†ã™ã‚‹ã«ã¯ä»»æ„ã®ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„
pause
```

---

## 3. æ—¥å¸¸é‹ç”¨æ‰‹é †

### 3.1 ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ»åœæ­¢

**èµ·å‹•æ‰‹é †**:
```bash
# 1. ä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
source venv/bin/activate

# 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•
cd task_manager_api
python run.py &

# 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
cd ../frontend
python -m http.server 8080 &
```

**åœæ­¢æ‰‹é †**:
```bash
# ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep python

# ãƒ—ãƒ­ã‚»ã‚¹åœæ­¢
kill <PID>

# ã¾ãŸã¯ä¸€æ‹¬åœæ­¢
pkill -f "python run.py"
pkill -f "http.server"
```

### 3.2 ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

**ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª**:
```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIç¢ºèª
curl http://localhost:5000/health

# æœŸå¾…ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "status": "OK",
  "message": "ã‚¿ã‚¹ã‚¯ç®¡ç†API ã¯æ­£å¸¸ã«å‹•ä½œä¸­ã§ã™", 
  "version": "1.0.0"
}

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç¢ºèª
curl -I http://localhost:8080

# æœŸå¾…ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹
HTTP/1.0 200 OK
```

---

## 4. ç›£è¦–ãƒ»ãƒ­ã‚°ç®¡ç†

### 4.1 ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
logs/
â”œâ”€â”€ task_manager.log     # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
â”œâ”€â”€ errors.log          # ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
â””â”€â”€ access.log          # ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
```

### 4.2 ãƒ­ã‚°ç¢ºèªã‚³ãƒãƒ³ãƒ‰

```bash
# æœ€æ–°ãƒ­ã‚°ç¢ºèª
tail -f logs/task_manager.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
tail -n 50 logs/errors.log

# ç‰¹å®šæœŸé–“ã®ãƒ­ã‚°æ¤œç´¢
grep "2024-12-27" logs/task_manager.log

# ã‚¨ãƒ©ãƒ¼ä»¶æ•°é›†è¨ˆ
grep -c "ERROR" logs/errors.log
```

### 4.3 ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

**è¨­å®šä¾‹** (`/etc/logrotate.d/task-manager`):
```bash
/path/to/task-manager/logs/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 644 www-data www-data
}
```

---

## 5. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§

### 5.1 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

#### ğŸ“Š ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
- **æ—¥æ¬¡**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **é€±æ¬¡**: å®Œå…¨ã‚·ã‚¹ãƒ†ãƒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **æœˆæ¬¡**: é•·æœŸä¿å­˜ç”¨ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–

#### ğŸ’¾ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
#!/bin/bash
# backup.sh

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="backups"

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p $BACKUP_DIR

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
echo "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™..."
cp instance/task_manager.db $BACKUP_DIR/task_manager_$DATE.db

# SQLãƒ€ãƒ³ãƒ—ä½œæˆ
sqlite3 instance/task_manager.db .dump > $BACKUP_DIR/dump_$DATE.sql

# ãƒ­ã‚°ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
tar -czf $BACKUP_DIR/logs_$DATE.tar.gz logs/

# å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å‰Šé™¤ï¼ˆ30æ—¥ä»¥ä¸Šï¼‰
find $BACKUP_DIR -name "*.db" -mtime +30 -delete
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

echo "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†: $BACKUP_DIR/"
```

### 5.2 å¾©æ—§æ‰‹é †

#### ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¾©æ—§

```bash
# 1. ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
pkill -f "python run.py"

# 2. ç¾åœ¨ã®DBã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp instance/task_manager.db instance/task_manager_backup_$(date +%Y%m%d).db

# 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©æ—§
cp backups/task_manager_YYYYMMDD_HHMMSS.db instance/task_manager.db

# 4. æ¨©é™è¨­å®š
chmod 644 instance/task_manager.db

# 5. ã‚µãƒ¼ãƒ“ã‚¹å†é–‹
python run.py
```

#### ğŸ“¥ SQLãƒ€ãƒ³ãƒ—ã‹ã‚‰ã®å¾©æ—§

```bash
# 1. æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
rm instance/task_manager.db

# 2. SQLãƒ€ãƒ³ãƒ—ã‹ã‚‰å¾©å…ƒ
sqlite3 instance/task_manager.db < backups/dump_YYYYMMDD.sql

# 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
sqlite3 instance/task_manager.db "PRAGMA integrity_check;"
```

---

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 6.1 ä¸€èˆ¬çš„ãªå•é¡Œ

#### ğŸ”¸ ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

**ç—‡çŠ¶**: `python run.py` ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**ç¢ºèªäº‹é …**:
```bash
# Pythonç’°å¢ƒç¢ºèª
python --version
pip list

# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
netstat -tulpn | grep 5000
lsof -i :5000

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
cat logs/errors.log
```

**è§£æ±ºæ–¹æ³•**:
```bash
# 1. ä¾å­˜é–¢ä¿‚å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# 2. ãƒãƒ¼ãƒˆå¤‰æ›´ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
export FLASK_RUN_PORT=5001

# 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†åˆæœŸåŒ–
rm instance/task_manager.db
python run.py
```

#### ğŸ”¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `sqlite3.OperationalError` ãŒç™ºç”Ÿ

**ç¢ºèªäº‹é …**:
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la instance/task_manager.db

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
sqlite3 instance/task_manager.db "PRAGMA integrity_check;"

# ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ç¢ºèª
sqlite3 instance/task_manager.db ".schema"
```

**è§£æ±ºæ–¹æ³•**:
```bash
# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿®å¾©
sqlite3 instance/task_manager.db "VACUUM;"

# 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©æ—§
cp backups/latest_backup.db instance/task_manager.db

# 3. åˆæœŸåŒ–ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰
rm instance/task_manager.db
python run.py
```

### 6.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ

#### ğŸ“ˆ ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦æ”¹å–„

```sql
-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç¢ºèª
.indices

-- å®Ÿè¡Œè¨ˆç”»ç¢ºèª
EXPLAIN QUERY PLAN SELECT * FROM tasks WHERE user_id = 1;

-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
VACUUM;
ANALYZE;
```

#### ğŸ’¾ ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚ºç¢ºèª
du -h instance/task_manager.db

# ãƒ­ã‚°ã‚µã‚¤ã‚ºç¢ºèª
du -h logs/

# ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚µã‚¤ã‚º
du -sh .
```

---

## 7. ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­

### 7.1 å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

#### ğŸ“… æ—¥æ¬¡ä½œæ¥­
- [ ] ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãƒã‚§ãƒƒã‚¯
- [ ] ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª

#### ğŸ“… é€±æ¬¡ä½œæ¥­
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–å®Ÿè¡Œ
- [ ] å¤ã„ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

#### ğŸ“… æœˆæ¬¡ä½œæ¥­
- [ ] å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆç¢ºèª
- [ ] ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨çŠ¶æ³åˆ†æ

### 7.2 ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
#!/bin/bash
# maintenance.sh

echo "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­ã‚’é–‹å§‹ã—ã¾ã™..."

# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
echo "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æœ€é©åŒ–ã—ã¦ã„ã¾ã™..."
sqlite3 instance/task_manager.db "VACUUM; ANALYZE;"

# 2. ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
echo "ãƒ­ã‚°ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã„ã¾ã™..."
logrotate -f logrotate.conf

# 3. å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
echo "å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã„ã¾ã™..."
find logs/ -name "*.log.*" -mtime +30 -delete
find backups/ -name "*.db" -mtime +30 -delete

# 4. ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ãƒã‚§ãƒƒã‚¯
echo "ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡:"
du -sh .
df -h .

echo "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­ãŒå®Œäº†ã—ã¾ã—ãŸ"
```

### 7.3 ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ‰‹é †

```bash
# 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
./backup.sh

# 2. ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
pkill -f "python run.py"
pkill -f "http.server"

# 3. ã‚³ãƒ¼ãƒ‰æ›´æ–°
git pull origin main

# 4. ä¾å­˜é–¢ä¿‚æ›´æ–°
pip install -r requirements.txt

# 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
python -c "from app.database import db; db.create_all()"

# 6. ã‚µãƒ¼ãƒ“ã‚¹å†é–‹
./start_app.sh

# 7. å‹•ä½œç¢ºèª
curl http://localhost:5000/health
```

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‹ç”¨

### 8.1 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### ğŸ”’ èªè¨¼ãƒ»èªå¯
- [ ] JWTãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™é©åˆ‡æ€§
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã®ç¢ºèª
- [ ] ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œã®ç›£è¦–

#### ğŸ›¡ï¸ ãƒ‡ãƒ¼ã‚¿ä¿è­·
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ç¢ºèª
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã®æš—å·åŒ–
- [ ] ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ©Ÿå¯†æƒ…å ±é™¤å»

### 8.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–

```bash
# å¤±æ•—ã—ãŸãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œã®ç¢ºèª
grep "èªè¨¼å¤±æ•—" logs/task_manager.log | tail -10

# ç•°å¸¸ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèª  
grep "401\|403\|422" logs/task_manager.log | head -20

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼ç¢ºèª
grep "Database\|SQL" logs/errors.log
```

---

## 9. æ€§èƒ½ç›£è¦–

### 9.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | ç¢ºèªæ–¹æ³• |
|------|--------|----------|
| ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ | < 200ms | ãƒ­ã‚°åˆ†æ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚º | < 100MB | `du -h` |
| ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | < 512MB | `ps` ã‚³ãƒãƒ³ãƒ‰ |
| CPUä½¿ç”¨ç‡ | < 50% | `top` ã‚³ãƒãƒ³ãƒ‰ |

### 9.2 ç›£è¦–ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–
ps aux | grep python

# ãƒ¡ãƒ¢ãƒªãƒ»CPUä½¿ç”¨é‡
top -p $(pgrep -f "python run.py")

# ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡
df -h /path/to/task-manager

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶š
netstat -tulpn | grep 5000
```

---

## 10. éšœå®³å¯¾å¿œ

### 10.1 éšœå®³ãƒ¬ãƒ™ãƒ«å®šç¾©

| ãƒ¬ãƒ™ãƒ« | èª¬æ˜ | å¯¾å¿œæ™‚é–“ | å¯¾å¿œè€… |
|--------|------|----------|--------|
| **Critical** | ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢ | å³åº§ | é–‹ç™ºè€… |
| **High** | ä¸»è¦æ©Ÿèƒ½åœæ­¢ | 1æ™‚é–“ä»¥å†… | é–‹ç™ºè€… |
| **Medium** | ä¸€éƒ¨æ©Ÿèƒ½ç•°å¸¸ | 4æ™‚é–“ä»¥å†… | é‹ç”¨è€… |
| **Low** | è»½å¾®ãªå•é¡Œ | 24æ™‚é–“ä»¥å†… | é‹ç”¨è€… |

### 10.2 éšœå®³å¯¾å¿œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[éšœå®³æ¤œçŸ¥] --> B[éšœå®³ãƒ¬ãƒ™ãƒ«åˆ¤å®š]
    B --> C{Critical/High?}
    C -->|Yes| D[ç·Šæ€¥å¯¾å¿œé–‹å§‹]
    C -->|No| E[æ¨™æº–å¯¾å¿œ]
    
    D --> F[ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢]
    F --> G[åŸå› èª¿æŸ»]
    G --> H[ä¿®æ­£ãƒ»å¾©æ—§]
    H --> I[å‹•ä½œç¢ºèª]
    I --> J[ã‚µãƒ¼ãƒ“ã‚¹å†é–‹]
    
    E --> K[ãƒ­ã‚°åˆ†æ]
    K --> L[ä¿®æ­£è¨ˆç”»]
    L --> M[è¨ˆç”»çš„ä¿®æ­£]
    
    J --> N[éšœå®³å ±å‘Šæ›¸ä½œæˆ]
    M --> N
```

### 10.3 ç·Šæ€¥å¯¾å¿œæ‰‹é †

```bash
# 1. ç¾çŠ¶ç¢ºèª
curl http://localhost:5000/health
ps aux | grep python

# 2. ãƒ­ã‚°ç¢ºèª
tail -n 100 logs/errors.log
tail -n 100 logs/task_manager.log

# 3. ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
pkill -f "python run.py"
python run.py

# 4. å‹•ä½œç¢ºèª
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "demo_user", "password": "demo_password"}'
```

---

## 11. å®¹é‡ç®¡ç†

### 11.1 ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç›£è¦–

```bash
#!/bin/bash
# disk_check.sh

THRESHOLD=80  # ä½¿ç”¨ç‡80%ã§è­¦å‘Š

USAGE=$(df -h . | awk 'NR==2 {print $5}' | sed 's/%//')

if [ $USAGE -gt $THRESHOLD ]; then
    echo "è­¦å‘Š: ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ãŒ ${USAGE}% ã§ã™"
    echo "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚º: $(du -h instance/task_manager.db)"
    echo "ãƒ­ã‚°ã‚µã‚¤ã‚º: $(du -h logs/)"
fi
```

### 11.2 å®¹é‡å‰Šæ¸›å¯¾ç­–

```bash
# å¤ã„ãƒ­ã‚°å‰Šé™¤
find logs/ -name "*.log.*" -mtime +7 -delete

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
sqlite3 instance/task_manager.db "VACUUM;"

# å®Œäº†æ¸ˆã¿å¤ã„ã‚¿ã‚¹ã‚¯å‰Šé™¤ï¼ˆ90æ—¥ä»¥ä¸Šå‰ï¼‰
sqlite3 instance/task_manager.db "
DELETE FROM tasks 
WHERE status = 'completed' 
AND completed_at < datetime('now', '-90 days');
"
```

---

## 12. ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°

### 12.1 æ›´æ–°ç¨®åˆ¥

| ç¨®åˆ¥ | å†…å®¹ | é »åº¦ | ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ  |
|------|------|------|--------------|
| **ãƒ‘ãƒƒãƒ** | ãƒã‚°ä¿®æ­£ | éšæ™‚ | ãªã— |
| **ãƒã‚¤ãƒŠãƒ¼** | æ©Ÿèƒ½è¿½åŠ  | æœˆæ¬¡ | < 5åˆ† |
| **ãƒ¡ã‚¸ãƒ£ãƒ¼** | å¤§å¹…å¤‰æ›´ | å››åŠæœŸ | < 30åˆ† |

### 12.2 æ›´æ–°æ‰‹é †ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```bash
#!/bin/bash
# update.sh

VERSION=$1
if [ -z "$VERSION" ]; then
    echo "ä½¿ç”¨æ³•: $0 <version>"
    exit 1
fi

echo "ã‚·ã‚¹ãƒ†ãƒ ã‚’ v$VERSION ã«æ›´æ–°ã—ã¾ã™..."

# 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
./backup.sh

# 2. ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
pkill -f "python run.py"

# 3. ã‚³ãƒ¼ãƒ‰æ›´æ–°
git fetch
git checkout v$VERSION

# 4. ä¾å­˜é–¢ä¿‚æ›´æ–°
pip install -r requirements.txt

# 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
python migrate.py

# 6. ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹
./start_app.sh

# 7. å‹•ä½œç¢ºèª
sleep 5
curl http://localhost:5000/health

echo "æ›´æ–°å®Œäº†: v$VERSION"
```

---

## 13. é–‹ç™ºè€…å‘ã‘æƒ…å ±

### 13.1 é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# é–‹ç™ºç”¨è¿½åŠ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
pip install pytest pytest-cov black flake8

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/ -v --cov=app

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
flake8 app/
black app/ --check
```

### 13.2 ãƒ‡ãƒãƒƒã‚°æƒ…å ±

```python
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–
export FLASK_DEBUG=1
export FLASK_ENV=development

# SQLã‚¯ã‚¨ãƒªãƒ­ã‚°æœ‰åŠ¹åŒ–
import logging
logging.basicConfig()
logging.getLogger('sqlalchemy.engine').setLevel(logging.INFO)
```

---

## 14. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### 14.1 æ—¥æ¬¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒçŠ¶æ³ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãƒã‚§ãƒƒã‚¯
- [ ] ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ç¢ºèª

### 14.2 é€±æ¬¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–å®Ÿè¡Œ
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†ç¢ºèª
- [ ] ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°ç¢ºèª

### 14.3 æœˆæ¬¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
- [ ] ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨çµ±è¨ˆä½œæˆ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

---

**ä½œæˆæ—¥**: 2024å¹´12æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**æ›´æ–°é »åº¦**: ã‚·ã‚¹ãƒ†ãƒ å¤‰æ›´æ™‚